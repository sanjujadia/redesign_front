import React, { useState, useEffect } from 'react';
import { Routes, Route, useNavigate } from 'react-router-dom';
//import Sidebar from '../components/Sidebar';
//import TopBar from '../components/TopBar';
import { Button, ButtonGroup, Col, Form, ProgressBar, Row } from 'react-bootstrap';
import { Link } from 'react-router-dom';
//import Salad from '../assets/images/greek-salad.png';
//import UserImg from '../assets/images/admin.png';
import SplineChart from '../components/SplineChart';
import { useAuth } from '../context/AuthProvider'
//import { differenceInDays } from 'date-fns'
import moment from 'moment';
//import io from 'socket.io-client';
import { ShimmerText } from "react-shimmer-effects";


const Admindashboard = () => {
  const navigate = useNavigate()
  const { user, isAuthenticated } = useAuth()
  const [latestRecipes, setLatestRecipes] = useState([])
  const [latestMealPlans, setLatestMealPlans] = useState([])
  const [latestUsers, setLatestUsers] = useState([])
  const [latestMessages, setLatestMessages] = useState([])
  const [visitorSearchValue, setVisitorSearchValue] = useState('lastweek')
  const [visitorData, setVisitorData] = useState([])
  const [activeMembers, setActiveMembers] = useState(0)
  const [monthlySubscriber, setMonthlySubscriber] = useState(0)
  const [yearlySubscriber, setYearlySubscriber] = useState(0)

  const fetchRecipesData = async () => {
    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getLatestRecipes`, {
      method: 'GET',
      headers: {
        "Content-Type": "application/json"
      }
    }).then(res => res.json()).then(data => { return data })
    if (response) {
      setLatestRecipes(response.data)
    } else {
      setLatestRecipes([])
    }
  }
  const fetchMealPlansData = async () => {
    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getLatestMealPlans`, {
      method: 'GET',
      headers: {
        "Content-Type": "application/json"
      }
    }).then(res => res.json()).then(data => { return data })
    if (response) {
      // let mealPlanData = response.data
      // mealPlanData.map(mealPlan => {
      //   mealPlan['diffDays'] = differenceInDays(new Date(), new Date(mealPlan.updatedAt))

      // })
      setLatestMealPlans(response.data)
    } else {
      setLatestMealPlans([])
    }
  }

  const fetchUsersData = async (req, res) => {
    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getLatestUsers`, {
      method: 'GET',
      headers: {
        "Content-Type": "application/json"
      }
    }).then(res => res.json()).then(data => { return data })
    if (response) {
      setLatestUsers(response.data)
    } else {
      setLatestUsers([])
    }
  }

  const fetchMessagesData = async (req, res) => {
    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getLatestMessages`, {
      method: 'GET',
      headers: {
        "Content-Type": "application/json"
      }
    }).then(res => res.json()).then(data => { return data })
    if (response) {
      setLatestMessages(response.data)
    } else {
      setLatestMessages([])
    }
  }

  const fetchVisitorData = async () => {

    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getVisitorData`, {
      method: 'POST',
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ dataParam: visitorSearchValue })
    }).then(res => res.json()).then(data => {
      console.log('visitor data', data)
      return data
    })
    if (response) {
      console.log('response.chartData', response.chartData)
      setVisitorData(response.chartData)
    } else {
      setVisitorData([])
    }
  }

  const fetchActiveMembers = async () => {
    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getActiveMembers`, {
      method: 'GET',
      headers: {
        "Content-Type": "application/json"
      },

    }).then(res => res.json()).then(data => { return data })
    if (response) {
      setActiveMembers(response.data.length)
    } else {
      setActiveMembers(0)
    }
  }

  const fetchMonthlySubscribers = async () => {
    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getMonthlySubscriber`, {
      method: 'GET',
      headers: {
        "Content-Type": "application/json"
      },

    }).then(res => res.json()).then(data => { return data })
    if (response.status) {
      setMonthlySubscriber(response.data.length)
    }
  }

  const fetchYearlySubscribers = async () => {
    const response = await fetch(`${process.env.REACT_APP_BASE_URL}/admin/getAnnualSubscriber`, {
      method: 'GET',
      headers: {
        "Content-Type": "application/json"
      },

    }).then(res => res.json()).then(data => { return data })
    if (response) {
      setYearlySubscriber(response.data.length)
    } else {
      setYearlySubscriber(0)
    }
  }
  useEffect(() => {
    fetchVisitorData()
  }, [visitorSearchValue])

  useEffect(() => {
    let userdata = JSON.parse(localStorage.getItem('userdata'))
    if (isAuthenticated) {

      fetchRecipesData()
      fetchMealPlansData()
      fetchUsersData()
      fetchMessagesData()
      fetchVisitorData()
      fetchActiveMembers()
      fetchMonthlySubscribers()
      fetchYearlySubscribers()
      // socket.emit("setup", user);
    } else {
      navigate('/login')
    }
  }, [user])

  console.log('latestRecipes', latestRecipes)
  console.log('latestMealPlans', latestMealPlans)
  console.log('VisitorData', visitorData)
  return (
    <div className='p-4'>
      <Row>
        <Col xxl={2} lg={4} md={6} sm={12} className='mb-3'>
          <div className='shadow-sm bg-white rounded p-4'>
            <div className='d-flex justify-content-between mb-3 align-items-center'>
              <span className='icon-bg yellow-bg'>
                <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                  <path d="M15.45 24.228H9.59718C7.7751 24.228 6.29785 22.6768 6.29785 20.7634V6.90521C6.29785 4.99157 7.77506 3.44043 9.59718 3.44043H10.6969V2.28565C10.6969 1.64787 11.1894 1.13086 11.7966 1.13086C12.404 1.13086 12.8963 1.64792 12.8963 2.28565V3.44043H19.4946V2.28565C19.4946 1.64787 19.9871 1.13086 20.5943 1.13086C21.2017 1.13086 21.6942 1.64792 21.6942 2.28565V3.44043H22.7939C24.616 3.44043 26.0931 4.99157 26.0931 6.90521V13.8795C27.4706 15.2664 28.3281 17.217 28.3281 19.3778C28.3281 23.5873 25.0732 26.9999 21.0581 26.9999C18.8005 26.9999 16.7832 25.921 15.4497 24.2282L15.45 24.228ZM8.49739 9.8478H23.8936V6.90479C23.8936 6.26683 23.4011 5.74982 22.7939 5.74982H21.6942V6.90479C21.6942 7.54256 21.2017 8.05958 20.5943 8.05958C19.9871 8.05958 19.4946 7.54252 19.4946 6.90479V5.74982H12.8963V6.90479C12.8963 7.54256 12.404 8.05958 11.7966 8.05958C11.1894 8.05958 10.6969 7.54252 10.6969 6.90479V5.74982H9.59718C8.98976 5.74982 8.49748 6.26688 8.49748 6.90479L8.49739 9.8478ZM21.0583 26.3067C24.7084 26.3067 27.6673 23.2044 27.6673 19.3776C27.6673 15.5507 24.7084 12.4485 21.0583 12.4485C17.4081 12.4485 14.4489 15.5507 14.4489 19.3776C14.4489 23.2044 17.4078 26.3067 21.0583 26.3067ZM23.7915 20.649C23.7915 21.1589 23.6172 21.5997 23.2685 21.9713C22.92 22.3429 22.4147 22.581 21.7525 22.6853V23.1554C21.7525 23.4607 21.5164 23.7081 21.2252 23.7081C20.9339 23.7081 20.6978 23.4607 20.6978 23.1554V22.7223C20.2585 22.6915 19.8424 22.6132 19.45 22.4872C19.2057 22.409 18.9874 22.3192 18.7953 22.2183C18.6104 22.1211 18.531 21.8886 18.6152 21.6904C18.618 21.6838 18.6206 21.6775 18.6232 21.6714L18.909 20.9984C18.9764 20.8395 19.1541 20.7681 19.3057 20.8387C19.3124 20.842 19.319 20.8453 19.3256 20.8491C19.3409 20.8577 19.3551 20.8655 19.3683 20.8724C19.5627 20.9755 19.7743 21.0638 20.0035 21.1375C20.3668 21.2542 20.7242 21.3124 21.0758 21.3124C21.7437 21.3124 22.0778 21.1375 22.0778 20.7872C22.0778 20.6029 21.9824 20.4662 21.7921 20.3772C21.6016 20.2882 21.2955 20.1944 20.8737 20.0963C20.4108 19.9918 20.024 19.8796 19.7135 19.7598C19.4031 19.64 19.1363 19.4481 18.9137 19.184C18.6911 18.9198 18.5798 18.5636 18.5798 18.1151C18.5798 17.5868 18.7614 17.1338 19.1247 16.756C19.488 16.3783 20.0124 16.1463 20.6978 16.0604V15.5996C20.6978 15.2943 20.934 15.0467 21.2252 15.0467C21.5164 15.0467 21.7525 15.2943 21.7525 15.5996V16.0418C22.0864 16.0726 22.4072 16.1339 22.7149 16.2262C22.9316 16.291 23.1316 16.3697 23.315 16.4622C23.3303 16.4698 23.3476 16.4789 23.3671 16.4895C23.4636 16.5416 23.506 16.6628 23.4643 16.768L23.0655 17.7759C23.0325 17.8595 22.9411 17.899 22.8616 17.8644C22.8581 17.8628 22.8547 17.8611 22.8512 17.8593C22.822 17.844 22.797 17.8311 22.7765 17.8209C22.2695 17.5686 21.7758 17.4424 21.2955 17.4424C20.9497 17.4424 20.6978 17.4963 20.5396 17.6037C20.3814 17.7111 20.3024 17.8509 20.3024 18.023C20.3024 18.195 20.3962 18.3239 20.5835 18.41C20.7711 18.496 21.0729 18.585 21.4889 18.6771C21.9576 18.7816 22.3457 18.8938 22.6534 19.0136C22.9609 19.1334 23.2275 19.3238 23.453 19.5849C23.6786 19.8459 23.7915 20.2006 23.7915 20.649L23.7915 20.649Z" fill="#EDB800" />
                </svg>
              </span>
              <span >
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="10" viewBox="0 0 19 10" fill="none">
                  <path d="M18.166 0.200195H14.0751C13.9805 0.200195 13.8952 0.255837 13.8592 0.341288C13.823 0.426743 13.843 0.52495 13.9099 0.590317L15.5134 2.15829L10.5513 8.0881L6.05876 3.69574C6.01343 3.65142 5.95391 3.62559 5.88738 3.62894C5.82329 3.63054 5.7628 3.6578 5.71975 3.70451L0.459959 9.41842C0.376958 9.50865 0.380386 9.6464 0.467786 9.73249C0.555516 9.81842 0.696404 9.82272 0.789022 9.74221L5.88392 5.31435L10.4036 9.73324C10.4475 9.77612 10.507 9.8002 10.5688 9.8002C10.5719 9.8002 10.5748 9.80004 10.5779 9.80004C10.6431 9.79764 10.7041 9.76863 10.7465 9.72016L16.5661 3.05979L17.9937 4.58345C18.0589 4.65296 18.161 4.67623 18.2507 4.64211C18.3405 4.60784 18.3999 4.52334 18.3999 4.42896V0.429224C18.3999 0.302955 18.2952 0.200603 18.1661 0.200603L18.166 0.200195Z" fill="#02C152" />
                </svg>
              </span>
            </div>
            <h4 className='text-dark fw-600'>{monthlySubscriber}</h4>
            <p className=' mb-0 text-custom-grey fw-600'>Monthly Subscribers</p>
          </div>
        </Col>
        <Col xxl={2} lg={4} md={6} sm={12} className='mb-3'>
          <div className='shadow-sm bg-white rounded p-4'>
            <div className='d-flex justify-content-between mb-3 align-items-center'>
              <span className='icon-bg green-bg'>
                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                  <path d="M17.5057 1.92725V3.17103C17.5057 3.22714 17.5016 3.28215 17.4952 3.3367C17.412 4.04921 16.8012 4.60438 16.0611 4.60438L15.9673 4.60454C15.2273 4.60454 14.6163 4.04936 14.5332 3.33685C14.5268 3.28231 14.5227 3.2273 14.5227 3.17118V1.9274L5.97862 1.92725V3.17103C5.97862 3.22714 5.9745 3.28215 5.96816 3.3367C5.88499 4.04921 5.27415 4.60438 4.53402 4.60438H4.43992C3.69996 4.60438 3.08896 4.04921 3.00578 3.3367C2.99945 3.28215 2.99533 3.22714 2.99533 3.17103V1.92725H2.3029C1.1932 1.92725 0.290527 2.82304 0.290527 3.92393V5.43711H20.4479V3.92393C20.4479 2.82288 19.545 1.92725 18.4357 1.92725H17.5057Z" fill="#19CD56" />
                  <path d="M4.44028 3.98911H4.53438C4.98888 3.98911 5.35861 3.62225 5.35861 3.1713L5.35846 0.817813C5.3583 0.366857 4.98855 0 4.53406 0H4.43996C3.98546 0 3.61572 0.366865 3.61572 0.817813V3.17146C3.61604 3.62225 3.98579 3.98911 4.44028 3.98911H4.44028Z" fill="#19CD56" />
                  <path d="M15.9673 3.98911H16.0614C16.5159 3.98911 16.8856 3.62225 16.8856 3.1713L16.8855 0.817813C16.8853 0.366857 16.5156 0 16.0611 0H15.9673C15.5128 0 15.1431 0.366865 15.1431 0.817813V3.17146C15.1432 3.62225 15.513 3.98911 15.9673 3.98911H15.9673Z" fill="#19CD56" />
                  <path fillRule="evenodd" clipRule="evenodd" d="M0.290527 6.37842H1.71104H20.4477V15.7074C20.4477 16.1932 20.2619 16.6547 19.9249 17.007L17.3529 19.6927C16.9957 20.0662 16.493 20.28 15.9743 20.28H2.3029C1.19336 20.28 0.290527 19.3845 0.290527 18.2835V6.37842ZM19.3486 15.5406C19.4208 15.4647 19.3665 15.3396 19.2611 15.3396L16.8099 15.3396C16.0939 15.3396 15.5079 15.921 15.5079 16.6315V19.2756C15.5079 19.3833 15.6407 19.4358 15.7154 19.3574L16.3066 18.7363L18.96 15.949L19.3486 15.5406ZM9.01527 10.7264V14.7596L7.69203 15.9999H12.8141L11.4909 14.7596V8.99792H10.6168L7.63832 9.92566L9.01527 10.7264Z" fill="#19CD56" />
                </svg>
              </span>
              <span >
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="10" viewBox="0 0 19 10" fill="none">
                  <path d="M18.166 0.200195H14.0751C13.9805 0.200195 13.8952 0.255837 13.8592 0.341288C13.823 0.426743 13.843 0.52495 13.9099 0.590317L15.5134 2.15829L10.5513 8.0881L6.05876 3.69574C6.01343 3.65142 5.95391 3.62559 5.88738 3.62894C5.82329 3.63054 5.7628 3.6578 5.71975 3.70451L0.459959 9.41842C0.376958 9.50865 0.380386 9.6464 0.467786 9.73249C0.555516 9.81842 0.696404 9.82272 0.789022 9.74221L5.88392 5.31435L10.4036 9.73324C10.4475 9.77612 10.507 9.8002 10.5688 9.8002C10.5719 9.8002 10.5748 9.80004 10.5779 9.80004C10.6431 9.79764 10.7041 9.76863 10.7465 9.72016L16.5661 3.05979L17.9937 4.58345C18.0589 4.65296 18.161 4.67623 18.2507 4.64211C18.3405 4.60784 18.3999 4.52334 18.3999 4.42896V0.429224C18.3999 0.302955 18.2952 0.200603 18.1661 0.200603L18.166 0.200195Z" fill="#02C152" />
                </svg>
              </span>
            </div>
            <h4 className='text-dark fw-600'>{yearlySubscriber}</h4>
            <p className=' mb-0 text-custom-grey fw-600'>Annual Subscribers</p>
          </div>
        </Col>
        <Col xxl={2} lg={4} md={6} sm={12} className='mb-3'>
          <div className='shadow-sm bg-white rounded p-4'>
            <div className='d-flex justify-content-between mb-3 align-items-center'>
              <span className='icon-bg red-bg'>
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="23" viewBox="0 0 25 23" fill="none">
                  <path d="M12.6658 13.4747C14.4218 13.4747 16.1058 12.7825 17.3473 11.5506C18.5889 10.3186 19.2865 8.64773 19.2865 6.90555C19.2865 5.1632 18.5889 3.49232 17.3473 2.26052C16.1057 1.02855 14.4217 0.336426 12.6658 0.336426C10.9099 0.336426 9.22576 1.02855 7.98429 2.26052C6.74265 3.49249 6.04509 5.16337 6.04509 6.90555C6.04509 8.6479 6.74265 10.3188 7.98429 11.5506C9.22594 12.7825 10.9099 13.4747 12.6658 13.4747ZM10.3484 9.27038C10.4072 9.05382 10.4611 8.85915 10.5225 8.66702C10.5569 8.55517 10.6305 8.32877 10.8658 8.32877C10.9604 8.3342 11.0523 8.36254 11.1332 8.41142C11.4741 8.58419 11.8439 8.69383 12.2245 8.73507C12.4487 8.76596 12.6774 8.7366 12.8864 8.64987C13.0332 8.60133 13.1391 8.47404 13.1594 8.32181C13.1798 8.16974 13.111 8.01937 12.9821 7.9345C12.8639 7.84269 12.7335 7.76733 12.5946 7.71065C12.4746 7.65719 12.3493 7.60848 12.2317 7.56231H12.2318C11.9431 7.45539 11.6636 7.32606 11.3955 7.17536C10.6598 6.73492 10.3165 6.16315 10.3607 5.42353C10.4146 4.55983 10.8879 3.96359 11.7683 3.64486C11.9645 3.57425 11.9645 3.57425 11.9645 3.37959V3.26282V3.04388C11.9645 2.70088 12.0945 2.5792 12.4378 2.56934H12.737C13.3279 2.56934 13.3844 2.69341 13.3868 3.2725C13.3868 3.48669 13.3868 3.48669 13.6027 3.51588L13.6025 3.51605C13.9003 3.56374 14.1904 3.64962 14.4658 3.77148C14.681 3.85227 14.7905 4.09004 14.7109 4.30441L14.6545 4.4967C14.6079 4.6598 14.5612 4.82511 14.5074 4.98328C14.4822 5.10853 14.4035 5.21681 14.2917 5.28011C14.1634 5.32085 14.0236 5.30388 13.909 5.23378C13.5346 5.05134 13.1191 4.96749 12.7026 4.99057C12.6059 4.99176 12.5103 5.01077 12.4205 5.04641C12.3049 5.08697 12.2192 5.1849 12.1949 5.30439C12.187 5.42166 12.2421 5.53452 12.3396 5.60122C12.4975 5.72087 12.6718 5.81744 12.857 5.88839L12.9797 5.93947C13.2958 6.06184 13.6045 6.20237 13.9042 6.36037C14.4584 6.6567 14.8504 7.18319 14.9733 7.79585C15.0831 8.37137 14.9285 8.96539 14.5515 9.41634C14.2643 9.76375 13.8737 10.0122 13.4358 10.1268C13.3305 10.156 13.3181 10.1803 13.3231 10.2655C13.3281 10.3507 13.3231 10.5088 13.3231 10.6231V10.6595V10.8128L13.3229 10.813C13.3349 10.9277 13.2966 11.0419 13.2177 11.1268C13.1389 11.2115 13.0272 11.2585 12.9111 11.2558H12.3225C12.2033 11.261 12.0875 11.2152 12.0045 11.13C11.9214 11.045 11.8791 10.9286 11.8884 10.8104V10.4163V10.2728L11.756 10.2509C11.379 10.2005 11.0112 10.0956 10.6648 9.93943C10.319 9.77888 10.2504 9.62799 10.3484 9.27042L10.3484 9.27038ZM24.6815 14.4138C24.7405 15.2769 24.4205 16.1233 23.8036 16.735L19.5515 20.9489V23L13.622 23.0002L13.6464 19.314C13.6523 18.3278 13.9487 17.3647 14.4988 16.5434C15.0491 15.7221 15.8294 15.0782 16.7437 14.691L19.0414 12.4065C19.3589 12.1702 19.772 12.101 20.15 12.2208C20.528 12.3406 20.8243 12.6346 20.9451 13.0096C21.0656 13.3847 20.996 13.7946 20.7579 14.1096L18.9726 15.8809C18.8899 15.9544 18.8413 16.0586 18.8384 16.1688C18.8353 16.2791 18.878 16.3857 18.9567 16.4636C19.0352 16.5416 19.1427 16.5841 19.2538 16.581C19.3649 16.5781 19.4699 16.5299 19.544 16.4478L21.567 14.4405H21.5671C21.8576 14.1524 22.0102 13.7549 21.9864 13.348L21.6749 8.72517V8.725C21.6465 8.27609 21.8615 7.84618 22.2392 7.59722C22.6169 7.34826 23.0998 7.31803 23.5059 7.51813C23.9119 7.71823 24.1796 8.11793 24.2082 8.56701L24.6815 14.4138ZM5.79956 20.9488L1.53524 16.7348C0.915706 16.1245 0.592891 15.278 0.650036 14.4136L1.09629 8.57417C1.11733 8.24084 1.27111 7.92957 1.52358 7.7086C1.77605 7.48779 2.1065 7.37544 2.44245 7.39648C2.7784 7.41753 3.09211 7.56994 3.31482 7.82044C3.53736 8.07095 3.65043 8.39899 3.62938 8.73215L3.3179 13.355V13.3552C3.29429 13.762 3.44687 14.1595 3.73732 14.4477L5.76033 16.4549C5.83457 16.5371 5.93942 16.5853 6.05061 16.5882C6.16162 16.5912 6.26904 16.5488 6.34773 16.4707C6.42624 16.3928 6.469 16.2862 6.46592 16.1759C6.46302 16.0658 6.41444 15.9616 6.33165 15.8881L4.54636 14.1167H4.54653C4.30826 13.8017 4.23864 13.3918 4.3594 13.0168C4.48 12.6417 4.77626 12.3478 5.15427 12.2279C5.53246 12.1081 5.94554 12.1774 6.26301 12.4136L8.56571 14.6984L8.56554 14.6982C9.4827 15.0816 10.267 15.7228 10.8212 16.543C11.3754 17.3631 11.6756 18.3265 11.6849 19.3139L11.7119 23H5.7802L5.79956 20.9488Z" fill="#FF626C" />
                </svg>
              </span>
              <span >
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="10" viewBox="0 0 19 10" fill="none">
                  <path d="M18.166 0.200195H14.0751C13.9805 0.200195 13.8952 0.255837 13.8592 0.341288C13.823 0.426743 13.843 0.52495 13.9099 0.590317L15.5134 2.15829L10.5513 8.0881L6.05876 3.69574C6.01343 3.65142 5.95391 3.62559 5.88738 3.62894C5.82329 3.63054 5.7628 3.6578 5.71975 3.70451L0.459959 9.41842C0.376958 9.50865 0.380386 9.6464 0.467786 9.73249C0.555516 9.81842 0.696404 9.82272 0.789022 9.74221L5.88392 5.31435L10.4036 9.73324C10.4475 9.77612 10.507 9.8002 10.5688 9.8002C10.5719 9.8002 10.5748 9.80004 10.5779 9.80004C10.6431 9.79764 10.7041 9.76863 10.7465 9.72016L16.5661 3.05979L17.9937 4.58345C18.0589 4.65296 18.161 4.67623 18.2507 4.64211C18.3405 4.60784 18.3999 4.52334 18.3999 4.42896V0.429224C18.3999 0.302955 18.2952 0.200603 18.1661 0.200603L18.166 0.200195Z" fill="#02C152" />
                </svg>
              </span>
            </div>
            <h4 className='text-dark fw-600'>$12,000</h4>
            <p className=' mb-0 text-custom-grey fw-600'>Monthly Earnings</p>
          </div>
        </Col>
        <Col xxl={2} lg={4} md={6} sm={12} className='mb-3'>
          <div className='shadow-sm bg-white rounded p-4'>
            <div className='d-flex justify-content-between mb-3 align-items-center'>
              <span className='icon-bg purple-bg'>
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="22" viewBox="0 0 19 22" fill="none">
                  <path d="M18.0546 8.71826H15.1989C14.8419 8.71826 14.552 9.00608 14.552 9.36014V21.3581C14.552 21.7123 14.8421 22 15.1989 22H18.0546C18.4116 22 18.7016 21.7121 18.7016 21.3581L18.7017 9.36014C18.7017 9.00607 18.4116 8.71826 18.0546 8.71826H18.0546Z" fill="#7D62F7" />
                  <path d="M12.1425 13.168H9.28681C8.92981 13.168 8.63989 13.4558 8.63989 13.8098V21.3362C8.63989 21.6904 8.92997 21.9781 9.28681 21.9781H12.1425C12.4995 21.9781 12.7894 21.6903 12.7894 21.3362V13.8098C12.7894 13.4558 12.4995 13.168 12.1425 13.168Z" fill="#7D62F7" />
                  <path d="M6.25239 17.6396H3.39667C3.03967 17.6396 2.74976 17.9275 2.74976 18.2815V21.3585C2.74976 21.7127 3.03984 22.0004 3.39667 22.0004H6.25239C6.60939 22.0004 6.8993 21.7125 6.8993 21.3585V18.2817C6.8993 17.9275 6.60938 17.6396 6.25239 17.6396Z" fill="#7D62F7" />
                  <path d="M9.77749 10.1796C10.0452 10.4452 10.4468 10.4452 10.7145 10.1796L15.5112 5.42023L16.6714 6.57137C17.0284 6.92558 17.6307 6.70416 17.6753 6.21715L18.2331 1.63491C18.2777 1.25861 17.943 0.926467 17.5637 0.970779L12.9678 1.52435C12.477 1.59075 12.2538 2.18848 12.6108 2.52045L13.771 3.67158L8.95198 8.45304C8.6843 8.71863 8.6843 9.11718 8.95198 9.38277L9.77749 10.1796Z" fill="#7D62F7" />
                  <path d="M4.37846 9.25004H3.12912C2.59364 9.25004 2.1252 8.87374 2.05827 8.36466C2.01361 8.07684 2.10293 7.76694 2.30369 7.54565C2.50445 7.32422 2.79452 7.19143 3.08463 7.19143H4.44556C4.95865 7.19143 5.38259 7.54565 5.47191 8.05475C5.49416 8.23186 5.62816 8.34257 5.8065 8.34257H6.94428C7.03345 8.34257 7.12278 8.29826 7.1897 8.23186C7.25662 8.16546 7.27888 8.07683 7.27888 7.98835C7.14504 6.61593 6.05177 5.55327 4.69085 5.44274V4.4687C4.69085 4.29159 4.5346 4.13672 4.35625 4.13672H3.24074C3.06224 4.13672 2.90615 4.29175 2.90615 4.4687V5.44274C2.19214 5.48706 1.52296 5.81904 1.03213 6.35038C0.519034 6.90379 0.27362 7.63429 0.318121 8.38693C0.407295 9.87007 1.67905 11.0212 3.2185 11.0212H4.46783C5.00332 11.0212 5.47175 11.3975 5.53868 11.9066C5.58335 12.1944 5.49402 12.5043 5.29326 12.7256C5.09251 12.947 4.80244 13.0798 4.51232 13.0798H3.1514C2.6383 13.0798 2.21437 12.7256 2.12505 12.2165C2.10279 12.0615 1.9688 11.9509 1.79046 11.9509H0.652672C0.563499 11.9509 0.47417 11.9952 0.407251 12.0616C0.340332 12.128 0.318078 12.2166 0.318078 12.3272C0.451915 13.6996 1.54518 14.7623 2.90611 14.8507V15.8248C2.90611 16.0019 3.06236 16.1568 3.2407 16.1568H4.35621C4.53471 16.1568 4.6908 16.0017 4.6908 15.8248V14.8507C5.42704 14.8064 6.074 14.4744 6.56482 13.9431C7.07792 13.3897 7.32333 12.6592 7.27883 11.9066C7.1895 10.4011 5.91775 9.25008 4.37846 9.25008V9.25004Z" fill="#7D62F7" />
                </svg>
              </span>
              <span >
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="10" viewBox="0 0 19 10" fill="none">
                  <path d="M18.166 0.200195H14.0751C13.9805 0.200195 13.8952 0.255837 13.8592 0.341288C13.823 0.426743 13.843 0.52495 13.9099 0.590317L15.5134 2.15829L10.5513 8.0881L6.05876 3.69574C6.01343 3.65142 5.95391 3.62559 5.88738 3.62894C5.82329 3.63054 5.7628 3.6578 5.71975 3.70451L0.459959 9.41842C0.376958 9.50865 0.380386 9.6464 0.467786 9.73249C0.555516 9.81842 0.696404 9.82272 0.789022 9.74221L5.88392 5.31435L10.4036 9.73324C10.4475 9.77612 10.507 9.8002 10.5688 9.8002C10.5719 9.8002 10.5748 9.80004 10.5779 9.80004C10.6431 9.79764 10.7041 9.76863 10.7465 9.72016L16.5661 3.05979L17.9937 4.58345C18.0589 4.65296 18.161 4.67623 18.2507 4.64211C18.3405 4.60784 18.3999 4.52334 18.3999 4.42896V0.429224C18.3999 0.302955 18.2952 0.200603 18.1661 0.200603L18.166 0.200195Z" fill="#02C152" />
                </svg>
              </span>
            </div>
            <h4 className='text-dark fw-600'>$23,500</h4>
            <p className=' mb-0 text-custom-grey fw-600'>Gross Profit Margins</p>
          </div>
        </Col>
        <Col xxl={2} lg={4} md={6} sm={12} className='mb-3'>
          <div className='shadow-sm bg-white rounded p-4'>
            <div className='d-flex justify-content-between mb-3 align-items-center'>
              <span className='icon-bg parrot-bg'>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="25" viewBox="0 0 20 25" fill="none">
                  <path d="M10.0824 0C7.63825 0 5.6141 1.87625 5.25725 4.32509C5.22038 4.57731 5.20166 4.83624 5.20166 5.09839C5.20166 5.20582 5.20629 5.31135 5.21189 5.41629C5.22038 5.57027 5.23505 5.72214 5.25725 5.87228C5.26111 5.91805 5.26478 5.96344 5.26883 6.00902C5.57688 9.46482 7.61396 12.1349 10.0824 12.1349C12.5513 12.1349 14.5885 9.46487 14.8962 6.00902C14.9008 5.96344 14.9045 5.91805 14.9084 5.87228C14.9302 5.72214 14.9449 5.57027 14.9537 5.41629C14.9595 5.31135 14.964 5.20563 14.964 5.09839C14.964 4.83621 14.9454 4.57728 14.9084 4.32509C14.5509 1.87625 12.5262 0 10.0824 0H10.0824ZM14.306 6.04794C14.0263 9.06631 12.2426 11.3938 10.0824 11.3938C7.92237 11.3938 6.13875 9.06636 5.85884 6.04794C6.04857 6.09486 6.28192 6.18601 6.53573 6.36201C6.53573 6.36201 6.05377 3.5215 7.07194 3.12335C7.07194 3.12335 8.47652 3.80017 10.0826 3.8438C11.6887 3.80014 13.0935 3.12335 13.0935 3.12335C14.1118 3.5217 13.6291 6.36201 13.6291 6.36201C13.8829 6.18621 14.1159 6.09524 14.306 6.04813V6.04794Z" fill="#82C527" />
                  <path d="M4.60822 21.3506C4.60629 21.3177 4.6032 21.2847 4.6032 21.2514C4.6032 20.7849 4.78637 20.3461 5.11896 20.016L6.18211 18.9611C6.51467 18.6317 6.95629 18.4506 7.42649 18.4506C7.89669 18.4506 8.33829 18.6317 8.67162 18.9621L9.286 19.5717L11.4945 17.3805C11.8268 17.0513 12.269 16.8695 12.7394 16.8695C13.2092 16.8695 13.652 17.0512 13.9838 17.381L15.0465 18.4353C15.7327 19.1165 15.7327 20.2248 15.0465 20.906L14.5698 21.379C17.5824 21.3415 19.8677 20.9987 19.8677 17.8533C19.8677 14.6164 17.4504 11.9402 14.3084 11.5068C14.2976 11.5049 14.2856 11.5047 14.2752 11.5024C14.1851 11.4909 14.0947 11.4804 14.0034 11.4722C14.0029 11.481 13.9996 11.4904 13.9996 11.4994C13.9988 11.5258 13.9938 11.5515 13.9907 11.5785C13.9743 11.7286 13.9289 11.8741 13.8585 12.0147C13.3842 13.1996 11.8482 15.4464 10.9447 16.7213L10.7579 14.0719C11.0221 13.9383 11.2493 13.7153 11.3946 13.4576C11.4998 13.272 11.5633 13.0696 11.5633 12.8625C11.5633 12.8625 10.8888 13.159 10.2003 13.159C10.1609 13.159 10.1217 13.1588 10.0823 13.1565C10.043 13.1586 10.0038 13.159 9.96441 13.159C9.27591 13.159 8.60134 12.8625 8.60134 12.8625C8.60134 13.0696 8.66561 13.2718 8.77042 13.4576C8.91576 13.7153 9.14371 13.9377 9.40738 14.0719L9.22094 16.7213C8.31685 15.446 6.78143 13.1996 6.30698 12.0147C6.23633 11.8741 6.19136 11.7286 6.17437 11.5785C6.17109 11.5516 6.16665 11.5258 6.1655 11.4994C6.1653 11.4904 6.16221 11.481 6.16221 11.4722C6.07092 11.4804 5.98078 11.4907 5.89045 11.5024C5.87906 11.5045 5.86729 11.5049 5.85667 11.5068C2.71498 11.9404 0.297852 14.6164 0.297852 17.8533C0.297852 20.6444 2.09772 21.2281 4.60824 21.3507L4.60822 21.3506Z" fill="#82C527" />
                  <path d="M13.1372 18.2202C13.0274 18.1112 12.8832 18.0566 12.7392 18.0566C12.5949 18.0566 12.4507 18.111 12.3409 18.2202L9.28564 21.2506L7.82493 19.8014C7.71472 19.6927 7.57073 19.6379 7.42655 19.6379C7.28237 19.6379 7.13819 19.6925 7.02836 19.8014L5.96581 20.8557C5.74577 21.074 5.74577 21.4282 5.96581 21.6461L7.82532 23.4913L8.88767 24.5454C8.99731 24.6547 9.14187 24.7091 9.28606 24.7091C9.43024 24.7091 9.57442 24.6547 9.68444 24.5452L14.1998 20.065C14.4201 19.8465 14.4201 19.4925 14.1998 19.2742L13.1372 18.2202Z" fill="#82C527" />
                </svg>
              </span>
              <span >
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="10" viewBox="0 0 19 10" fill="none">
                  <path d="M18.166 0.200195H14.0751C13.9805 0.200195 13.8952 0.255837 13.8592 0.341288C13.823 0.426743 13.843 0.52495 13.9099 0.590317L15.5134 2.15829L10.5513 8.0881L6.05876 3.69574C6.01343 3.65142 5.95391 3.62559 5.88738 3.62894C5.82329 3.63054 5.7628 3.6578 5.71975 3.70451L0.459959 9.41842C0.376958 9.50865 0.380386 9.6464 0.467786 9.73249C0.555516 9.81842 0.696404 9.82272 0.789022 9.74221L5.88392 5.31435L10.4036 9.73324C10.4475 9.77612 10.507 9.8002 10.5688 9.8002C10.5719 9.8002 10.5748 9.80004 10.5779 9.80004C10.6431 9.79764 10.7041 9.76863 10.7465 9.72016L16.5661 3.05979L17.9937 4.58345C18.0589 4.65296 18.161 4.67623 18.2507 4.64211C18.3405 4.60784 18.3999 4.52334 18.3999 4.42896V0.429224C18.3999 0.302955 18.2952 0.200603 18.1661 0.200603L18.166 0.200195Z" fill="#02C152" />
                </svg>
              </span>
            </div>
            <h4 className='text-dark fw-600'>{activeMembers}</h4>
            <p className=' mb-0 text-custom-grey fw-600'>Active Members</p>
          </div>
        </Col>
        <Col xxl={2} lg={4} md={6} sm={12} className='mb-3'>
          <div className='shadow-sm bg-white rounded p-4'>
            <div className='d-flex justify-content-between mb-3 align-items-center'>
              <span className='icon-bg blue-bg'>
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="23" viewBox="0 0 25 23" fill="none">
                  <path d="M12.4898 4.46003C8.64286 4.46003 5.52469 7.55391 5.52469 11.3709C5.52469 15.1878 8.64286 18.2817 12.4898 18.2817C16.3367 18.2817 19.4549 15.1878 19.4549 11.3709C19.4549 7.55391 16.3367 4.46003 12.4898 4.46003ZM12.0037 10.6478H12.9353C14.1502 10.6478 15.1219 11.6122 15.1219 12.8173C15.1219 13.8218 14.4335 14.6253 13.5426 14.9067V15.1478C13.5426 15.5497 13.2186 15.8709 12.8138 15.8709C12.4087 15.8709 12.085 15.5494 12.085 15.1478V14.9872H10.6272C10.2221 14.9872 9.89845 14.6657 9.89845 14.2641C9.89845 13.8622 10.2224 13.541 10.6272 13.541L12.9353 13.5404C13.3403 13.5404 13.6236 13.219 13.6236 12.8574C13.6236 12.4555 13.2997 12.1744 12.9353 12.1744H12.004C10.789 12.1744 9.81738 11.21 9.81738 10.0049C9.81738 8.79942 10.7893 7.83533 12.004 7.83533H12.0444V7.67473C12.0444 7.27283 12.3683 6.95165 12.7731 6.95165C13.1782 6.95165 13.5019 7.27312 13.5019 7.67473V7.83533H14.3524C14.7575 7.83533 15.0812 8.1568 15.0812 8.55841C15.0812 8.96032 14.7572 9.2815 14.3524 9.2815H12.0037C11.5987 9.2815 11.3153 9.60297 11.3153 9.96451C11.3153 10.3263 11.6393 10.6478 12.0037 10.6478L12.0037 10.6478ZM18.2805 20.2105C18.483 20.6124 18.3615 21.0944 17.9565 21.2954C16.2961 22.2194 14.3928 22.7018 12.4492 22.7018C6.13202 22.7018 1.02959 17.599 1.02959 11.3712C1.02959 10.2462 1.19145 9.08087 1.55611 7.99624C1.15105 8.1972 0.665226 8.03632 0.46268 7.67477C0.260147 7.27286 0.38161 6.79083 0.786675 6.58986L2.771 5.54527C3.17606 5.34431 3.66189 5.46483 3.86443 5.86674L4.91723 7.8356C5.11976 8.2375 4.9983 8.71954 4.59323 8.92051C4.47177 9.00095 4.35031 9.00095 4.22884 9.00095C3.94524 9.00095 3.66193 8.84035 3.50008 8.55896L3.21648 8.03654C2.81141 9.08113 2.64956 10.2061 2.64956 11.3314C2.64956 16.7154 7.06343 21.0548 12.4493 21.0548C14.1097 21.0548 15.7293 20.6529 17.1468 19.8493C17.5923 19.6885 18.0781 19.809 18.2807 20.2106L18.2805 20.2105ZM24.2332 16.514L22.2489 17.5586C22.1274 17.639 22.006 17.639 21.8845 17.639C21.8034 17.639 21.7226 17.639 21.6416 17.5989C21.439 17.5185 21.2772 17.398 21.1557 17.197L20.1029 15.2282C19.9004 14.8263 20.0218 14.3442 20.4269 14.1432C20.832 13.9423 21.3178 14.0628 21.5203 14.4647L21.6418 14.7057C22.0469 13.6208 22.2491 12.4958 22.2491 11.3308C22.2491 5.94679 17.8352 1.60735 12.4494 1.60735C10.789 1.60735 9.16934 2.00926 7.75187 2.81281C7.34681 3.01376 6.86099 2.89324 6.65844 2.49133C6.45591 2.08943 6.57737 1.60739 6.98244 1.40642C8.6428 0.482368 10.5461 0 12.4897 0C18.8069 0 23.9093 5.10285 23.9093 11.3306C23.9093 12.6565 23.6664 13.9825 23.2209 15.1879L23.5045 15.0273C23.9096 14.8264 24.3954 14.9469 24.598 15.3488C24.7999 15.8309 24.6381 16.313 24.233 16.5139L24.2332 16.514Z" fill="#24C5F1" />
                </svg>
              </span>
              <span >
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="10" viewBox="0 0 19 10" fill="none">
                  <path d="M18.166 0.200195H14.0751C13.9805 0.200195 13.8952 0.255837 13.8592 0.341288C13.823 0.426743 13.843 0.52495 13.9099 0.590317L15.5134 2.15829L10.5513 8.0881L6.05876 3.69574C6.01343 3.65142 5.95391 3.62559 5.88738 3.62894C5.82329 3.63054 5.7628 3.6578 5.71975 3.70451L0.459959 9.41842C0.376958 9.50865 0.380386 9.6464 0.467786 9.73249C0.555516 9.81842 0.696404 9.82272 0.789022 9.74221L5.88392 5.31435L10.4036 9.73324C10.4475 9.77612 10.507 9.8002 10.5688 9.8002C10.5719 9.8002 10.5748 9.80004 10.5779 9.80004C10.6431 9.79764 10.7041 9.76863 10.7465 9.72016L16.5661 3.05979L17.9937 4.58345C18.0589 4.65296 18.161 4.67623 18.2507 4.64211C18.3405 4.60784 18.3999 4.52334 18.3999 4.42896V0.429224C18.3999 0.302955 18.2952 0.200603 18.1661 0.200603L18.166 0.200195Z" fill="#02C152" />
                </svg>
              </span>
            </div>
            <h4 className='text-dark fw-600'>10%</h4>
            <p className=' mb-0 text-custom-grey fw-600'>Conversion Rate</p>
          </div>
        </Col>
      </Row>
      <Row className='mt-4'>
        <Col xxl={5} lg={12} md={12} className='mb-3'>
          <div className='p-4 bg-white shadow-sm rounded'>
            <div className='d-sm-flex justify-content-between align-items-center'>
              <h5 className='text-dark mb-0 fw-600 fs-15 left-border'>Recently added recipes</h5>
              <Link to="/recipe" className='text-green fs-15 fw-600'>View all</Link>
            </div>
            <hr />
            {latestRecipes && latestRecipes.length > 0 ? latestRecipes.map(recipe => (
              <>
                <div className='d-sm-flex justify-content-start align-items-center ps-3'>
                  <div className='img-salad'>
                    <img className='img-fluid w-100 h-100' src={recipe?.image} />
                  </div>
                  <div className='ms-3'>
                    <h4 className='text-dark mb-1 fw-600 fs-17'>{recipe?.title}</h4>
                    <p className='d-inline me-3 text-custom-grey fw-600 fs-15 mb-0'><span className='d-inline me-2'><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                      <path d="M7 0C3.1391 0 0 3.1391 0 7C0 10.8609 3.1391 14 7 14C10.8609 14 14 10.8609 14 7C14 3.1391 10.8609 0 7 0ZM10.1391 8.25548H6.05846V3.0762H7.31407V6.8429H10.1392L10.1391 8.25548Z" fill="#86C52F" />
                    </svg> </span>{recipe?.time} minutes</p>
                    <p className='d-inline text-custom-grey fw-600 fs-15 mb-0'><span className='d-inline me-2'><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                      <path fillRule="evenodd" clipRule="evenodd" d="M13.8815 5.46637C13.6747 5.21929 13.3074 5.18486 13.0586 5.39161L9.7169 8.17613H1.16806C0.84562 8.17613 0.583984 8.43777 0.583984 8.7601V11.4502C0.583984 12.8653 1.73575 14.0164 3.15078 14.0164H10.8663C12.2815 14.0164 13.4325 12.8653 13.4325 11.4502V8.7601C13.4325 8.43777 13.1715 8.17613 12.8486 8.17613H11.5421L13.8069 6.28855C14.0545 6.08242 14.0884 5.71394 13.8817 5.46626" fill="#FF964A" />
                      <path fillRule="evenodd" clipRule="evenodd" d="M4.08832 6.42443C4.23895 6.42443 4.38847 6.36608 4.5012 6.25333L6.83723 3.91721C7.04754 3.707 7.06679 3.37172 6.88052 3.13931L4.54439 0.219216C4.44631 0.0972059 4.30322 0.0188873 4.14731 0.00310057C3.9925 -0.0131946 3.83423 0.0352842 3.71396 0.135702L0.209842 3.0558C0.0685819 3.17373 -0.00912399 3.35135 0.000856485 3.53529C0.0113464 3.71923 0.10708 3.88808 0.260153 3.99023L3.76427 6.32636C3.86296 6.39235 3.97631 6.42443 4.08845 6.42443" fill="#FF964A" />
                      <path fillRule="evenodd" clipRule="evenodd" d="M7.59227 5.8404C7.9146 5.8404 8.17623 5.57877 8.17623 5.25633C8.17623 4.934 7.9146 4.67236 7.59227 4.67236C7.26994 4.67236 7.0083 4.934 7.0083 5.25633C7.0083 5.57877 7.26994 5.8404 7.59227 5.8404Z" fill="#FF964A" />
                      <path fillRule="evenodd" clipRule="evenodd" d="M6.4243 6.42432C6.10197 6.42432 5.84033 6.68595 5.84033 7.00839C5.84033 7.33072 6.10197 7.59235 6.4243 7.59235C6.74674 7.59235 7.00837 7.33072 7.00837 7.00839C7.00837 6.68595 6.74674 6.42432 6.4243 6.42432Z" fill="#FF964A" />
                    </svg> </span>{recipe?.ingredients.length} ingredients</p>
                  </div>
                </div>
                <hr />
              </>)) :
              <> 
              <ShimmerText type="image" height={100} width={100} loading={false}>
                </ShimmerText>
                
                </>
            }
          </div>
        </Col>
        <Col xxl={4} lg={12} md={12} className='mb-3'>
          <div className=' p-4 bg-white shadow-sm rounded'>
            <div className='d-sm-flex justify-content-between align-items-center'>
              <h5 className='text-dark mb-0 fw-600 fs-15 left-border'>Recently created meal plans</h5>
              <Link to="/plan" className='text-green fs-15 fw-600'>View all</Link>
            </div>
            <hr />
            {latestMealPlans && latestMealPlans.length > 0 ? latestMealPlans.map(mealPlan => (
              <>
                <div className='d-sm-flex justify-content-start align-items-center ps-3'>
                  <div className=''>
                    <svg xmlns="http://www.w3.org/2000/svg" width="61" height="61" viewBox="0 0 79 79" fill="none">
                      <g filter="url(#filter0_d_57_267)">
                        <rect x="11" y="8" width="57" height="57" rx="12" fill="url(#paint0_linear_57_267)" />
                      </g>
                      <path d="M50.95 31.6501H28.85C28.34 31.6501 28 31.3101 28 30.8001V26.8901C28 25.7851 28.935 24.8501 30.04 24.8501H49.845C50.865 24.8501 51.8 25.7851 51.8 26.8901V30.8001C51.8 31.3101 51.46 31.6501 50.95 31.6501ZM29.7 29.9501H50.1V26.8901C50.1 26.7201 49.93 26.5501 49.76 26.5501H30.04C29.87 26.5501 29.7 26.7201 29.7 26.8901V29.9501Z" fill="white" />
                      <path d="M33.78 27.4H33.27C32.675 27.4 32.25 26.975 32.25 26.38V25.02C32.25 24.425 32.675 24 33.27 24H33.78C34.375 24 34.8 24.425 34.8 25.02V26.38C34.8 26.975 34.375 27.4 33.78 27.4Z" fill="white" />
                      <path d="M46.02 27.4H46.53C47.125 27.4 47.55 26.975 47.55 26.38V25.02C47.55 24.425 47.125 24 46.53 24H46.02C45.425 24 45 24.425 45 25.02V26.38C45 26.975 45.425 27.4 46.02 27.4Z" fill="white" />
                      <path d="M50.95 29.9502H28.85C28.34 29.9502 28 30.2902 28 30.8002V46.9502C28 47.4602 28.34 47.8002 28.85 47.8002H50.95C51.46 47.8002 51.8 47.4602 51.8 46.9502V30.8002C51.8 30.2902 51.46 29.9502 50.95 29.9502ZM43.045 39.3002L39.9 42.7002L36.755 39.3002C35.905 38.3652 35.905 36.8352 36.755 35.9002L37.01 35.6452C37.775 34.8802 38.965 34.8802 39.73 35.6452L39.9 35.9002L40.155 35.6452C40.92 34.8802 42.11 34.8802 42.875 35.6452L43.13 35.9002C43.98 36.8352 43.98 38.3652 43.045 39.3002Z" fill="white" />
                      <defs>
                        <filter id="filter0_d_57_267" x="0" y="0" width="79" height="79" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                          <feFlood floodOpacity="0" result="BackgroundImageFix" />
                          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                          <feOffset dy="3" />
                          <feGaussianBlur stdDeviation="5.5" />
                          <feComposite in2="hardAlpha" operator="out" />
                          <feColorMatrix type="matrix" values="0 0 0 0 0.563686 0 0 0 0 0.783333 0 0 0 0 0.267639 0 0 0 0.3 0" />
                          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_57_267" />
                          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_57_267" result="shape" />
                        </filter>
                        <linearGradient id="paint0_linear_57_267" x1="20.2694" y1="8.00002" x2="71.352" y2="11.452" gradientUnits="userSpaceOnUse">
                          <stop stopColor="#8DC63F" />
                          <stop offset="1" stopColor="#7FC520" />
                        </linearGradient>
                      </defs>
                    </svg>
                  </div>
                  <div className='ms-3'>
                    <h4 className='text-dark mb-1 fw-600 fs-17'>{mealPlan?.title}</h4>
                    <p className='d-inline me-3 text-custom-grey fw-600 fs-15 mb-0'>Last edit was {moment(new Date(mealPlan?.updatedAt)).fromNow()}</p>
                  </div>
                </div>
                <hr />
              </>
            )) :
              <>  <ShimmerText type="image" height={100} width={100} loading={false}>
                </ShimmerText></>
            }

          </div>
        </Col>
        <Col xxl={3} lg={12} md={12} className='mb-3'>
          <div className=' p-4 bg-white shadow-sm rounded'>
            <div className='d-sm-flex justify-content-between align-items-center'>
              <h5 className='text-dark mb-0 fw-600 fs-15 left-border'>Customer Review</h5>
              <Button className='text-custom-grey fs-15 fw-600 bg-none' style={{ border: '1px solid #DBDBDB' }}><svg className='me-2' xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
                <path d="M11.5412 3.40009C10.4192 2.49369 8.87112 1.93338 7.33323 1.93338C5.77726 1.93338 4.28503 2.55152 3.18497 3.65177C2.08472 4.75189 1.46658 6.24412 1.46658 7.80002C1.46658 9.35593 2.08472 10.8482 3.18497 11.9483C4.2851 13.0485 5.77733 13.6667 7.33323 13.6667C8.88913 13.6667 10.3814 13.0485 11.4815 11.9483C12.5817 10.8482 13.1999 9.35593 13.1999 7.80002C13.1999 7.53804 13.3396 7.29594 13.5665 7.16495C13.7933 7.03395 14.073 7.03395 14.2999 7.16495C14.5268 7.29594 14.6665 7.53804 14.6665 7.80002C14.6665 11.8502 11.3834 15.1333 7.33323 15.1333C3.28303 15.1333 0 11.8502 0 7.80002C0 3.74983 3.28303 0.466797 7.33323 0.466797C9.20251 0.466797 11.0783 1.13858 12.4665 2.26278V1.20012C12.4665 0.938134 12.6063 0.696037 12.8332 0.565043C13.06 0.434048 13.3396 0.434048 13.5665 0.565043C13.7933 0.696037 13.9332 0.938131 13.9332 1.20012V4.13341C13.9332 4.328 13.8559 4.51448 13.7183 4.65198C13.5808 4.78948 13.3943 4.86683 13.1999 4.86683H10.2665C10.0045 4.86683 9.76238 4.72699 9.63138 4.50012C9.50039 4.27324 9.50039 3.99371 9.63138 3.76683C9.76238 3.53994 10.0045 3.40012 10.2665 3.40012L11.5412 3.40009Z" fill="#86C52F" />
              </svg>Refresh</Button>
            </div>
            <div className='my-2'>
              <h3 className='text-dark fw-bold d-inline mb-0'>4.5</h3>
              <p className='text-custom-grey fw-600 mb-0 d-inline ms-2'>out of 5 star</p>
            </div>
            <div>
              <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="90" height="17" viewBox="0 0 90 17" fill="none">
                  <path d="M8.3407 0.238281L10.792 5.2051L16.2732 6.00157L12.3069 9.8677L13.2432 15.3268L8.3407 12.7493L3.43816 15.3268L4.37446 9.8677L0.408223 6.00157L5.88943 5.2051L8.3407 0.238281Z" fill="#F3C243" />
                  <path d="M44.881 0.238281L47.3323 5.2051L52.8135 6.00157L48.8472 9.8677L49.7835 15.3268L44.881 12.7493L39.9784 15.3268L40.9147 9.8677L36.9485 6.00157L42.4297 5.2051L44.881 0.238281Z" fill="#F3C243" />
                  <path d="M26.6107 0.238281L29.062 5.2051L34.5432 6.00157L30.577 9.8677L31.5133 15.3268L26.6107 12.7493L21.7082 15.3268L22.6445 9.8677L18.6782 6.00157L24.1595 5.2051L26.6107 0.238281Z" fill="#F3C243" />
                  <path d="M63.151 0.238281L65.6023 5.2051L71.0835 6.00157L67.1172 9.8677L68.0536 15.3268L63.151 12.7493L58.2485 15.3268L59.1848 9.8677L55.2185 6.00157L60.6997 5.2051L63.151 0.238281Z" fill="#F3C243" />
                  <path d="M81.4213 0.238281L83.8725 5.2051L89.3538 6.00157L85.3875 9.8677L86.3238 15.3268L81.4213 12.7493L76.5187 15.3268L77.455 9.8677L73.4888 6.00157L78.97 5.2051L81.4213 0.238281Z" fill="#EEECE5" />
                  <path fillRule="evenodd" clipRule="evenodd" d="M81.4255 0.246968L81.4213 0.238281L78.97 5.2051L73.4888 6.00157L77.455 9.8677L76.5187 15.3268L81.4213 12.7493L81.4255 12.7516V0.246968Z" fill="#F3C243" />
                </svg>
              </span>
              <span className='text-custom-grey fw-600 d-inline ms-2' style={{ fontSize: '12px' }}>(1315 reviews)</span>
            </div>
            <div className='mt-3'>
              <div className='progress-grid'>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>5</p>
                <ProgressBar variant="success" now={75} />
                <p className='d-inline text-dark fw-600 fw-17 mb-0'>75%</p>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>982</p>
              </div>
              <div className='progress-grid'>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>4</p>
                <ProgressBar variant="info" now={17} />
                <p className='d-inline text-dark fw-600 fw-17 mb-0'>17%</p>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>205</p>
              </div>
              <div className='progress-grid'>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>3</p>
                <ProgressBar variant="warning" now={5} />
                <p className='d-inline text-dark fw-600 fw-17 mb-0'>5%</p>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>65</p>
              </div>
              <div className='progress-grid'>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>2</p>
                <ProgressBar variant="danger" now={1} />
                <p className='d-inline text-dark fw-600 fw-17 mb-0'>1%</p>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>17</p>
              </div>
              <div className='progress-grid'>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>1</p>
                <ProgressBar variant="success" now={2} />
                <p className='d-inline text-dark fw-600 fw-17 mb-0'>2%</p>
                <p className='d-inline text-custom-grey fw-600 fs-17 mb-0'>46</p>
              </div>
            </div>
          </div>
        </Col>
      </Row>
      <Row className='mt-4'>
        <Col xxl={4} lg={12} md={12} className='mb-3'>
          <div className=' p-4 bg-white shadow-sm rounded'>
            <div className='d-sm-flex justify-content-between align-items-center'>
              <h5 className='text-dark mb-0 fw-600 fs-15 left-border'>New login users</h5>
              <Link to="/user" className='text-green fs-15 fw-600'>View all</Link>
            </div>
            <hr />
            {latestUsers && latestUsers.length > 0 ? latestUsers.map(user => (
              <>
                <div className='d-sm-flex justify-content-start align-items-center ps-3'>
                  <div className='img-salad'>
                    <img className='img-fluid w-100 h-100' src={user?.image} />
                  </div>
                  <div className='ms-3'>
                    <h4 className='text-dark mb-1 fw-600 fs-17'>{user?.lastname == null || user?.lastname == 'undefined' ? user?.firstname : user?.firstname + ` ` + user?.lastname}</h4>
                    <p className='d-inline me-3 text-custom-grey fw-600 fs-15 mb-0'>{user?.email}</p>
                  </div>
                </div>
                <hr />
              </>
            ))
              :
              <>   <ShimmerText type="image" height={100} width={100} loading={false}>
                </ShimmerText></>
            }

          </div>
        </Col>
        <Col xxl={5} lg={12} md={12} className='mb-3'>
          <div className='p-4 bg-white shadow-sm rounded'>
            <div className='d-sm-flex justify-content-between align-items-center'>
              <h5 className='text-dark mb-0 fw-600 fs-15 left-border'>New messages</h5>
              <Link to="/message" className='text-green fs-15 fw-600'>View all</Link>
            </div>
            <hr />
            {latestMessages && latestMessages.length > 0 ? latestMessages.map(message => (
              <>
                <div className='d-sm-flex justify-content-start align-items-center ps-3'>
                  <div className='img-salad'>
                    <img className='img-fluid w-100 h-100' src={message?.senderId?.image} />
                  </div>
                  <div className='ms-3 w-100'>
                    <div className='d-sm-flex justify-content-between align-items-center'>
                      <h4 className='text-dark mb-1 fw-600 fs-17'>{message?.senderId?.firstname}</h4>
                      <p className='text-custom-grey fw-600 fs-15 mb-0'>{moment(new Date(message?.createdAt)).fromNow()}</p>
                    </div>
                    <p className='d-inline me-3 text-custom-grey fw-600 fs-15 mb-0'>{message?.message}</p>
                  </div>
                </div>
                <hr />
              </>
            ))
              :
              <>  <ShimmerText type="image" height={100} width={100} loading={false}>
                </ShimmerText></>
            }

            {/* <div className='d-sm-flex justify-content-start align-items-center ps-3'>
                  <div className='img-salad'>
                    <img className='img-fluid w-100 h-100' src={Salad} />
                  </div>
                  <div className='ms-3 w-100'>
                    <div className='d-sm-flex justify-content-between align-items-center'>
                      <h4 className='text-dark mb-1 fw-600 fs-17'>Symond Write</h4>
                      <p className='text-custom-grey fw-600 fs-15 mb-0'>10 min ago</p>
                    </div>
                    <p className='d-inline me-3 text-custom-grey fw-600 fs-15 mb-0'>Hi, How are you?</p>
                  </div>
                </div>
                <hr />
                <div className='d-sm-flex justify-content-start align-items-center ps-3'>
                  <div className='img-salad'>
                    <img className='img-fluid w-100 h-100' src={Salad} />
                  </div>
                  <div className='ms-3 w-100'>
                    <div className='d-sm-flex justify-content-between align-items-center'>
                      <h4 className='text-dark mb-1 fw-600 fs-17'>Symond Write</h4>
                      <p className='text-custom-grey fw-600 fs-15 mb-0'>10 min ago</p>
                    </div>
                    <p className='d-inline me-3 text-custom-grey fw-600 fs-15 mb-0'>Hi, How are you?</p>
                  </div>
                </div> */}

          </div>
        </Col>
        <Col xxl={3} lg={12} md={12} className='mb-3'>
          <div className=' p-4 bg-white shadow-sm rounded'>
            <div className='d-sm-flex justify-content-between align-items-center'>
              <h5 className='text-dark mb-0 fw-600 fs-15 left-border w-100'>Wesite Visitor</h5>
              <Form.Select value={visitorSearchValue} className='text-custom-grey fs-15 fw-600 bg-none d-inline shadow-none w-75' style={{ border: '1px solid #DBDBDB' }} aria-label="Default select example" onChange={(e) => setVisitorSearchValue(e.target.value)}>
                <option value="lastweek">Last week</option>
                <option value="lastmonth">Last month</option>
                <option value="lastyear">Last year</option>
              </Form.Select>
            </div>
            <div>
              <SplineChart data={visitorData} />
            </div>
          </div>
        </Col>
      </Row>
    </div>
  )
}

export default Admindashboard
